




// https://community.openhab.org/t/design-pattern-working-with-groups-in-rules/20512

// rule "If Timer tunnel 51 at value 0"
// when
//     Item oneMinuteTriggerSwitch changed 
// then
//     // logInfo("Rule: Decrement timers", "gCurrentTnlTimers DECREMENT!!!")
//         gCurrentTnlTimers.allMembers.forEach [ item | item.postUpdate((item.state as DecimalType) + 1) ]
// end

// https://community.openhab.org/t/find-group-containing-an-item-where-the-group-is-nested/51953

// rule "Tunnel timer received update"
// when
// 	Member of gTunnelItems received update
// then
// logInfo("Rules", "Updated item name = (" + triggeringItem.name + ")."  )
// 	// gRoom.members.forEach[roomGroup|
// 	//  	if (roomGroup instanceof GroupItem)
// 	//  	{
// 	//  		roomGroup.members.forEach[roomMember|
// 	//  			if (roomMember.name == triggeringItem.name)
// 	//  			{
// 	//  				logInfo("Rules", "NG: Triggering item was (" + triggeringItem.name + "), in room group (" + roomGroup.name + ")")
// 	//  			}
// 	// 		]
// 	//  	}]
// end

// rule "Tunnel 51 timer received update"
// when
// 	Member of gtnl_51_btn_ctrl received update
// then
// logInfo("Rules", "Updated item name = (" + triggeringItem.name + ")."  )
// 	// gRoom.members.forEach[roomGroup|
// 	//  	if (roomGroup instanceof GroupItem)
// 	//  	{
// 	//  		roomGroup.members.forEach[roomMember|
// 	//  			if (roomMember.name == triggeringItem.name)
// 	//  			{
// 	//  				logInfo("Rules", "NG: Triggering item was (" + triggeringItem.name + "), in room group (" + roomGroup.name + ")")
// 	//  			}
// 	// 		]
// 	//  	}]
// end
// rule "Switch"  
//     when
//         Item sw_setValue changed
//     then 
//         if (FF_LivingRoom_Light.state == OFF){
//             FF_LivingRoom_Light.sendCommand(ON)
//         } else {
//             FF_LivingRoom_Light.sendCommand(OFF)
//         }
// end


// rule "testttttttttt"

// when

//     Item in_51_button changed 
//     or
//     Item out_51_button changed
//     or 
//     Item tnl_51_Timer_Enable changed

// then

//     logInfo("Tunnel 51 testtttt button rule", "in_51_button or out_51_button button pressed")
//     tnl_51_Timer_Current_Value.postUpdate(110)
//     if (in_51_tnl_light.state == OFF){
//     // in_51_tnl_light.sendCommand(ON)
//     // out_51_tnl_light.sendCommand(ON)
//         g51_btn_lights.allMembers.forEach [ item | item.sendCommand(ON) ]
//         Thread::sleep(300)
//     // in_51_btn_light.sendCommand(ON)
//     // out_51_btn_light.sendCommand(ON)
//         g51_tnl_lights.allMembers.forEach [ item | item.sendCommand(ON) ]
//     }else{
//         g51_btn_lights.allMembers.forEach [ item | item.sendCommand(OFF) ]
//     //  in_51_tnl_light.sendCommand(OFF)
//     // out_51_tnl_light.sendCommand(OFF)
//         Thread::sleep(300)
//         g51_tnl_lights.allMembers.forEach [ item | item.sendCommand(OFF) ]
//     //  in_51_btn_light.sendCommand(OFF)
//     // out_51_btn_light.sendCommand(OFF)
//     }

    // HVAC_UF_Room_ACTUATORS_1.members.forEach[actuator|
                    
    //   // actuator.sendCommand("1")
    //   actuator.sendCommand(ON)
    //   Thread::sleep(500)
    //   logInfo("HVAC_LIVING_ROOM_ACTUATOR", "LIVING ROOM UF ACTUATOR "+ iterator.toString +" SET TO ON")
    //   iterator ++
    // ]
    //     iterator = 1 // reset the iterator to 1
    //     HVAC_Heating_OnOff_Visualizer_1.sendCommand(ON)

// createTimer(now.plusMinutes(15), [|
//     LoungeBlind.sendCommand(UP)
//   ])

end